<module name="Runtime" version="0.0.1">
    <variables>
        <!-- [external] current_line: int = 0; -->
        <variable name="current_line" type="int">
            <visbility>
                <external />
            </visbility>
            <description>holds the line number of a function's caller</description>
        </variable>

        <!-- [external] current_file: int = 0; -->
        <variable name="current_file" type="string">
            <visbility>
                <external />
            </visbility>
            <description>holds the file name of a function's caller</description>
        </variable>
    </variables>

    <functions>
        <!-- fn Allocate<T>(amount: int) => opaque -->
        <function name="Allocate">
            <generics>
                <generic name="T" />
            </generics>
            <returns>opaque</returns>
            <arguments>
                <argument name="amount" type="int" />
            </arguments>
            <description>allocates the provided amount of type T on the heap</description>
        </function>

        <!-- [blockexit] fn Exit(exit_code: int) -->
        <function name="Exit">
            <visbility>
                <blockexit />
            </visbility>
            <arguments>
                <argument name="exit_code" type="int" />
            </arguments>
            <description>exits the program with the provided exit code</description>
        </function>

        <!-- [blockexit] fn Exit(exit_message: string) -->
        <function name="Exit">
            <visbility>
                <blockexit />
            </visbility>
            <arguments>
                <argument name="exit_message" type="string" />
            </arguments>
            <description>exits the program with an error code and the provided message</description>
        </function>
        
        <!-- platform windowsgui { fn HideWindowsConsole() } -->
        <function name="HideWindowsConsole">
            <platforms>
                <windowsgui />
            </platforms>
            <description>hides the console if running GUI app on windows</description>
        </function>

        <!-- fn length(str: string) => int -->
        <function name="length">
            <returns>int</returns>
            <arguments>
                <argument name="str" type="string" />
            </arguments>
            <description>returns the length of the provided string</description>
        </function>

        <!-- fn length(num: int) => int -->
        <function name="length">
            <returns>int</returns>
            <arguments>
                <argument name="num" type="int" />
            </arguments>
            <description>returns the length of the provided integer (how many digits it has plus its sign)</description>
        </function>

        <!-- fn length(num: float) => int -->
        <function name="length">
            <returns>int</returns>
            <arguments>
                <argument name="num" type="float" />
            </arguments>
            <description>returns the length of the provided float (how many digits it has plus its sign plus 1 for the decimal)</description>
        </function>

        <!-- fn Exponential(base: float, power: float) => float -->
        <function name="Exponential">
            <returns>float</returns>
            <arguments>
                <argument name="num" type="float" />
            </arguments>
            <description>returns the length of the provided float (how many digits it has plus its sign plus 1 for the decimal)</description>
        </function>
        
    </functions>
</module>